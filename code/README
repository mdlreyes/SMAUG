This folder contains the code used for de los Reyes et al. (2019).

Here are the main parts of the Mn measurement pipeline:

continuum_division.py: gets rid of slowly-varying continuum in observed spectrum
    - get synthetic spectrum (no [Mn/H] specified) from Ivannaâ€™s grid
    - divide obs/synth
    - fit spline to quotient, mask out Mn regions (and other "bad" regions)
    - divide obs spectrum by spline

interp_atmosphere.py: given atmospheric params and [Mn/H], create *.atm file for MOOG

run_moog.py: use MOOG to make synthetic spectrum - run 8 times, one for each line list!
    - make *.par file
    - specify linelist
    - specify *.atm file
    - splice all pieces of spectrum together into array

match_spectrum.py: prep the observed and synthetic spectra for fitting
    - open observed spectrum
    - interpolate and smooth synth spectrum to match wavelength array & resolution of observed spectrum

chi_squared.py: actually fit the observed spectrum with synthetic spectra
    - calculate chi-square value
    - minimize chi-square ([Mn/H] is free parameter)

output_mn.py: run chi_squared.py on all stars in a folder
output_mn_mpi.py: same as output_mn.py, but using multiprocessing to make it faster